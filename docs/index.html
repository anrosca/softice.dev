<!DOCTYPE html>
<html lang="en">
    <head>
	<meta name="generator" content="Hugo 0.98.0" />
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Andrei Roșca</title><meta name="description" content="Random Musings on Java"><meta property="og:title" content="Andrei Roșca" />
<meta property="og:description" content="Random Musings on Java" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://softice.dev/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Andrei Roșca"/>
<meta name="twitter:description" content="Random Musings on Java"/>
<meta name="application-name" content="Andrei Roșca">
<meta name="apple-mobile-web-app-title" content="Andrei Roșca"><link rel="icon" href="https://softice.dev/images/favico.png"><link rel="apple-touch-icon" sizes="180x180" href="https://softice.dev/apple-touch-icon.png"><link rel="manifest" href="https://softice.dev/site.webmanifest"><link rel="canonical" href="https://softice.dev/" /><link rel="alternate" href="https://softice.dev/index.xml" type="application/rss+xml" title="Andrei Roșca">
    <link rel="feed" href="https://softice.dev/index.xml" type="application/rss+xml" title="Andrei Roșca"><link rel="stylesheet" href="https://softice.dev/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https:\/\/softice.dev\/","inLanguage": "en","description": "Random Musings on Java","image": "https:\/\/softice.dev\/images\/anrosca.png","thumbnailUrl": "https:\/\/softice.dev\/images\/anrosca.png","name": "Andrei Roșca"
    }
    </script></head><body data-header-desktop="" data-header-mobile=""><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="https://softice.dev/" title="Andrei Roșca"><img
        class="lazyload logo"
        src="https://softice.dev/svg/loading.min.svg"
        data-src="https://softice.dev/images/logo.png"
        data-srcset="https://softice.dev/images/logo.png, https://softice.dev/images/logo.png 1.5x, https://softice.dev/images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" />Andrei Roșca&#39;s blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="https://softice.dev/posts/"> Posts </a><a class="menu-item" href="https://softice.dev/tags/"> Tags </a><a class="menu-item" href="https://softice.dev/categories/"> Categories </a><a class="menu-item" href="https://softice.dev/about/"> About </a><a class="menu-item" href="https://github.com/anrosca" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="https://softice.dev/" title="Andrei Roșca"><img
        class="lazyload logo"
        src="https://softice.dev/svg/loading.min.svg"
        data-src="https://softice.dev/images/logo.png"
        data-srcset="https://softice.dev/images/logo.png, https://softice.dev/images/logo.png 1.5x, https://softice.dev/images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" />Andrei Roșca&#39;s blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="https://softice.dev/posts/" title="">Posts</a><a class="menu-item" href="https://softice.dev/tags/" title="">Tags</a><a class="menu-item" href="https://softice.dev/categories/" title="">Categories</a><a class="menu-item" href="https://softice.dev/about/" title="">About</a><a class="menu-item" href="https://github.com/anrosca" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="page home" data-home="posts"><div class="home-profile"><div class="home-avatar"><a href="https://softice.dev/posts/" title="Posts"><img
        class="lazyload"
        src="https://softice.dev/svg/loading.min.svg"
        data-src="https://softice.dev/images/anrosca.png"
        data-srcset="https://softice.dev/images/anrosca.png, https://softice.dev/images/anrosca.png 1.5x, https://softice.dev/images/anrosca.png 2x"
        data-sizes="auto"
        alt="/images/anrosca.png"
        title="/images/anrosca.png" /></a></div><div class="home-subtitle"><div id="id-1" class="typeit"></div></div><div class="links"><a href="https://github.com/anrosca" title="GitHub" target="_blank" rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href="https://linkedin.com/in/andrei-ro%c8%99ca/" title="LinkedIn" target="_blank" rel="noopener noreffer me"><i class="fab fa-linkedin fa-fw"></i></a><a href="https://twitter.com/andrei_jdk" title="Twitter" target="_blank" rel="noopener noreffer me"><i class="fab fa-twitter fa-fw"></i></a><a href="https://softice.dev/index.xml" title="RSS" target="_blank" rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div>
<div class="summary-card"><article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/creating_a_custom_spring_boot_test_slice/">Creating a custom Spring Boot test slice</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2023-03-26">2023-03-26</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/spring-boot/"><i class="far fa-folder fa-fw"></i>Spring Boot</a>&nbsp;<a href="https://softice.dev/categories/dynamodb/"><i class="far fa-folder fa-fw"></i>DynamoDB</a></span></div><a class="content" href="https://softice.dev/posts/creating_a_custom_spring_boot_test_slice/">Introduction In Spring Boot, when writing tests there&rsquo;s a way to slice up the test&rsquo;s application context, so that it contains only the beans which are appropriate for the given test. Some examples are @WebMvcTest, @DataJpaTest, @RestClientTest and many others. For example, when testing a jpa repository, we&rsquo;re not interested in the web-related components (like controllers), so using the @DataJpaTest will reduce the size of the application context, so that it contains only the repositories and other infrastructure related to that (like DataSources, EntityManagerFactory and others).</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-boot/">Spring Boot</a></li><li><a href="https://softice.dev/tags/testing/">Testing</a></li><li><a href="https://softice.dev/tags/localstack/">Localstack</a></li><li><a href="https://softice.dev/tags/dynamodb/">DynamoDB</a></li></ul></div>
</article>
<article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/bootiful_error_handling_with_controller_advices/">Bootiful error handling with @ControllerAdvices</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2022-06-04">2022-06-04</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/spring-boot/"><i class="far fa-folder fa-fw"></i>Spring Boot</a></span></div><a class="content" href="https://softice.dev/posts/bootiful_error_handling_with_controller_advices/">Introduction Today we&rsquo;re going to look at how to return pretty error responses for our REST APIs, using Spring Boot's controller advices. Even though controller advices are a well-known mechanism, no many projects use them to their full potential. In this article we&rsquo;ll try to fix that.
The REST api Initially, we&rsquo;ll need a couple of HTTP endpoints, so that we can simulate some errors and see if we as users of that REST api can understand what went wrong.</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-boot/">Spring Boot</a></li></ul></div>
</article>
<article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/introduction_to_spring_framework_6_http_interfaces/">Introduction to Spring Framework 6 HTTP interfaces</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2022-06-04">2022-06-04</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/spring-framework/"><i class="far fa-folder fa-fw"></i>Spring Framework</a></span></div><a class="content" href="https://softice.dev/posts/introduction_to_spring_framework_6_http_interfaces/">Introduction The Spring Framework version 6, along with (Spring Boot version 3) will introduce the ability to consume HTTP apis in a declarative way using interfaces. This feature resembles the Spring Data way of writing repositories, where we just create an interface and declare what methods it should have and Spring Data will create a proxy, implementing all SQL queries.
It&rsquo;s worth pointing out that Spring Framework 6 is still in the snapshot state and the current article reflects the state of the things as they are in June 2022.</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-framework/">Spring Framework</a></li><li><a href="https://softice.dev/tags/http/">HTTP</a></li></ul></div>
</article>
<article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/optimistic_and_pessimistic_locking_with_spring_data_jpa/">Optimistic and pessimistic concurrency control with Spring-Data-JPA</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2022-05-19">2022-05-19</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/concurrency-control/"><i class="far fa-folder fa-fw"></i>Concurrency control</a>&nbsp;<a href="https://softice.dev/categories/spring-framework/"><i class="far fa-folder fa-fw"></i>Spring Framework</a></span></div><a class="content" href="https://softice.dev/posts/optimistic_and_pessimistic_locking_with_spring_data_jpa/">Introduction Today we are going to learn about the difference between optimistic and pessimistic concurrency control using Spring-Data-Jpa.
Concurrency control is about managing concurrent access to our data. Let&rsquo;s say for example that we have a hotel booking system and there&rsquo;s only one room available in the hotel and 2 users at the same time try to book it. Who will get the room? Well, it&rsquo;s possible that both of them will succeed, but that will leave the hotel staff with an awkward situation.</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-framework/">Spring Framework</a></li><li><a href="https://softice.dev/tags/concurrency-control/">Concurrency control</a></li><li><a href="https://softice.dev/tags/pessimistic-locking/">Pessimistic locking</a></li><li><a href="https://softice.dev/tags/optimistic-locking/">Optimistic locking</a></li></ul></div>
</article>
<article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/spring_puzzler_transactional_event_listener/">Spring puzzler: the @TransactionalEventListener</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2022-05-16">2022-05-16</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/spring-framework/"><i class="far fa-folder fa-fw"></i>Spring Framework</a></span></div><a class="content" href="https://softice.dev/posts/spring_puzzler_transactional_event_listener/">Introduction Today we&rsquo;re going to take a look at a new Spring @Transactional puzzler involving the @TransactionalEventListener. It&rsquo;s an old quirk of Spring related to transaction-bound events (both declarative and programmatic ones) and though not commonly experienced, encountering it can leave you confused for hours. Let&rsquo;s have a look.
The puzzler Suppose we have the following code:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  @Slf4j @SpringBootApplication public class SpringDeclarativeTxManagementApplication { public static void main(String[] args) { SpringApplication.</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-framework/">Spring Framework</a></li><li><a href="https://softice.dev/tags/declarative-transaction-management/">Declarative transaction management</a></li><li><a href="https://softice.dev/tags/transactionaleventlistener/">@TransactionalEventListener</a></li></ul></div>
</article>
<article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/spring_puzzler_transactional_poostconstruct_methods/">Spring puzzler: transactional @PostConstruct methods</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2022-05-15">2022-05-15</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/spring-framework/"><i class="far fa-folder fa-fw"></i>Spring Framework</a></span></div><a class="content" href="https://softice.dev/posts/spring_puzzler_transactional_poostconstruct_methods/">Introduction Today we&rsquo;ll be looking at a Spring puzzler - transactional @PostContruct methods. Though it&rsquo;s not a commonly used thing, it can be useful to know some limitations of the Spring&rsquo;s declarative transaction management approach.
@PostConstruct methods The @PostConstruct are called automatically by Spring after all of the bean&rsquo;s dependencies were injected. Let&rsquo;s look at an example:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  @Slf4j @SpringBootApplication public class SpringDeclarativeTxManagementApplication { public static void main(String[] args) { SpringApplication.</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-framework/">Spring Framework</a></li><li><a href="https://softice.dev/tags/declarative-transaction-management/">Declarative transaction management</a></li><li><a href="https://softice.dev/tags/programmatic-transaction-management/">Programmatic transaction management</a></li></ul></div>
</article>
<article class="summary" itemscope itemtype="http://schema.org/Article" data-image="hide"><h2 class="single-title" itemprop="name headline">
        <a href="https://softice.dev/posts/introduction_to_declarative_tx_management/">Introduction to declarative transaction management in Spring Framework</a>
    </h2><div class="post-meta"><span class="post-author"><a href="https://softice.dev/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Andrei Rosca</a></span>&nbsp;<span class="post-publish">published on <time datetime="2022-05-10">2022-05-10</time></span>&nbsp;<span class="post-category">included in <a href="https://softice.dev/categories/spring-framework/"><i class="far fa-folder fa-fw"></i>Spring Framework</a></span></div><a class="content" href="https://softice.dev/posts/introduction_to_declarative_tx_management/">Introduction In this blog post we are going to explore the internals of Spring&rsquo;s declarative transaction management. We&rsquo;ll start with the basics, and then we&rsquo;ll dive deeper, looking at the internals and some potential pitfalls which we can run into.
We&rsquo;ll be using:
 Spring Boot 2.6.7 Java 17 Postgresql Spring Data JPA  But first, let&rsquo;s discuss a bit why do we even bother with transactions in the first place?</a><div class="post-footer"><ul class="post-tags"><li><a href="https://softice.dev/tags/spring-framework/">Spring Framework</a></li><li><a href="https://softice.dev/tags/declarative-transaction-management/">Declarative transaction management</a></li><li><a href="https://softice.dev/tags/programmatic-transaction-management/">Programmatic transaction management</a></li></ul></div>
</article>
</div></div></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">Andrei Roșca</div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 - 2023</span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">Licensed Under CC BY-NC 4.0</a></span></div>
</div>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://softice.dev/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="https://softice.dev/lib/animate/animate.min.css"><script src="https://softice.dev/lib/autocomplete/autocomplete.min.js"></script><script src="https://softice.dev/lib/lunr/lunr.min.js"></script><script src="https://softice.dev/lib/lazysizes/lazysizes.min.js"></script><script src="https://softice.dev/lib/typeit/typeit.min.js"></script><script>window.config={"code":{"maxShownLines":150},"data":{"id-1":"Random musings on Java"},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"},"typeit":{"cursorChar":null,"cursorSpeed":null,"data":{"id-1":["id-1"]},"duration":null,"speed":null}};</script><script src="https://softice.dev/js/theme.min.js"></script></body></html>
